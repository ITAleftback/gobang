# ·项目描述

## 引言

这次是我对第一次写的五子棋进行优化，解决了部分第一次写五子棋留下的纰漏，但还是遗留了很多问题。

## 功能

用户登录注册

#### 玩家准备

游戏对战

聊天

认输

## 实现思路

由于不太熟悉websocket，我便尝试使用grpc试写。大致思路如下

将客户端、服务端的代码部署至服务器，客户端通过输入下棋位置传给服务端，服务端开始下棋并将下棋后的棋盘返回给客户端，如此往复直至一方胜利。

## 问题说明

1.因为不知道如何返回二维数组类型给客户端，所以导致了玩家不知道棋盘情况的问题，但服务器上是可以看见棋盘的情况的。

2.由于不知道该如何同时返回消息至多客户端，当一方获胜或认输时，服务端只能将获胜或认输的消息返回给那个获胜或认输的人。

3.房间没有创立成功，

4.服务器部署不成功，因为墙的缘故，我无法导出rpc相关的包导致部署失败。

# ·使用方法

## 运行方法

运行serve端，同时运行客户端1及客户端2，输入想下的位置，即可开始下棋。

## 接口API

| URL        | http | 功能     |
| ---------- | ---- | -------- |
| /Register  | POST | 用户注册 |
| /Login     | POST | 用户登录 |
| /Ready     | POST | 用户准备 |
| /Playchess | POST | 玩家下棋 |
| /Surrender | POST | 玩家认输 |

## 接口文档

默认8080端口

## 项目目录

```
├──client
├──client2
├──db
│   ├── init
│   └──dbsql
├──game
│   ├──chessboard
│   ├──judge
│   └──play
├──liaotian
├──proto
├──room
├──router
├──rpc
├──serve
└──service
```

## 实例

```
2020/07/12 00:41:48 注册成功jxp
```

```
2020/07/12 00:43:15 登录成功
```

```
2020/07/12 00:43:29 已准备
```

```
1	2	0	0	0	0	0	0	0	0	0	0	0	0	

1	2	0	0	0	0	0	0	0	0	0	0	0	0	

1	2	0	0	0	0	0	0	0	0	0	0	0	0	

1	2	0	0	0	0	0	0	0	0	0	0	0	0	

1	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

0	0	0	0	0	0	0	0	0	0	0	0	0	0	

2020/07/12 00:46:51 玩家一胜利，游戏结束
```

```
2020/07/12 00:48:05 游戏结束，玩家二认输
```

